# PADmidi

情感音乐数据集，包含81首流行音乐，并由四位具有一定音乐水平的标注者分别进行情感标注。情感表示方法使用PAD三维情感表示。

## 文件目录结构
/annotation：新的标注数据

/emotion：平均后的情感标注

/midi_music：原始midi音乐

/ogg_music：原始音乐的ogg格式

/original_annotation：原始情感标注




## 标注数据说明
标注数据以txt格式存储，其中：

- p_x和p_y是Pleasure维度的标注点的坐标；

- a_x和a_y是Arousal维度的标注点坐标；

- d_x和d_y是Dominance维度的标注点坐标；

- p_x_fitting和p_y_fitting是自动拟合后的Pleasure维度的标注点坐标；

- a_x_fitting和a_y_fitting是自动拟合后的Arousal维度的标注点坐标；

- d_x_fitting和d_y_fitting是自动拟合后的Dominance维度的标注点坐标；

'_x'代表横坐标，表示音乐的时间，将所有音乐的实际播放时间均扩大至1000，因此横坐标的取值范围为[0,1000]。例如，对于一首共200秒的音乐，第50秒的横坐标为250，第100秒的横坐标为500。

'_y'代表纵坐标，纵坐标表示情感值。

## 标注工具
### 简介
本工具使用tkinter编写界面，可以播放音乐(ogg格式)，标注人员可以直接使用工具进行三维情感标注。

### 工具使用
在根目录使用命令行运行```python annotation_tool.py```，或者在搭建好的python环境中运行annotation_tool.py即可。

- 点击'start'播放音乐并可以开始标注;'pause'或空格键暂停音乐播放;点击'save'可以保存当前的标注结果,标注结果保存在：'annotation/new/'文件夹下。

- 拖动横轴可以拖动音乐进度。

- 在'标记模式'下，点击坐标系中的位置进行标注；在'删除模式'下，点击已标注的点会删除该点。

- 较深色的点和线是标注数据，较浅色的线是自动拟合后的数据

- 点击'change user name'可以切换用户，不同的用户标注结果会保存至不同的文件夹中。

- 手动输入音乐名称并确定(点击'start'之前)，可以打开已保存的标记文件。










